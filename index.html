<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Compostaí - Calculadora Inteligente de Compostagem</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
    <!--Scripts Lógica-->
    <script src="compost-calculator.js"></script>
    <script src="ph-calculator.js"></script>
    <script src="main.js"></script>
    <script src="maintenance-calculator.js"></script>
    <script src="database-manager.js"></script>
    <!--End Scripts Lógica-->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjMuMTQgMTI4Ljk3Ij4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiAjOWVkNjQ1OwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICNjMmY5NmI7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogIzZiYzczZjsKICAgICAgfQoKICAgICAgLmNscy00IHsKICAgICAgICBmaWxsOiAjNjQ5MDJhOwogICAgICB9CgogICAgICAuY2xzLTUgewogICAgICAgIGZpbGw6ICNhOWU1NGE7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxnIGlkPSJMYXllcl8xLTIiIGRhdGEtbmFtZT0iTGF5ZXIgMSI+CiAgICA8Zz4KICAgICAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTIzLjE0LDM2LjM4aC0yOS45OGw2LjI5LTYuMjljMi4yNC0uOTcsNC4zMy0yLjM1LDYuMTUtNC4xMmwyLjcxLTIuNjRjLjk2LS45MywxLjQzLTIuMjEsMS4zNy0zLjQ2bDcuNzItNy43MmMuOSwxLjQxLDEuNjUsMi45MywyLjIzLDQuNTMsMi4yNSw2LjIxLDMuMzcsMTIuODcsMy41MSwxOS43WiIvPgogICAgICA8cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0xMDIuOTksMTIuMzJMMzEuNDMsODMuODhoMHMtMTUuNTEsMTUuNTEtMTUuNTEsMTUuNTFDLTEuNTUsNzguMjYtLjEzLDQ2LjYyLDE5Ljk5LDI2LjUsMzMuMjIsMTMuMjcsNTIuNTgsMy4zOCw3MiwuMjljNy4yMS42MywxMy42NSwyLjI1LDE5LjMsNC44OCw0LjEsMS45MSw3Ljk5LDQuMjksMTEuNjksNy4xNVoiLz4KICAgICAgPHBhdGggY2xhc3M9ImNscy01IiBkPSJNMTE5LjM2LDYyLjQ4YzEuNTktNS4yOSwyLjcyLTEwLjY3LDMuMzItMTYuMDNoLTM5LjU4cy0xNi4wMywxNi4wMy0xNi4wMywxNi4wM2g1Mi4zWiIvPgogICAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMDkuNjgsMTkuODdjLjA2LDEuMjUtLjQxLDIuNTMtMS4zNywzLjQ2bC0yLjcxLDIuNjRjLTEuODIsMS43Ny0zLjkxLDMuMTUtNi4xNSw0LjEybDEwLjIzLTEwLjIyWiIvPgogICAgICA8cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0xMTUuNzEsNzIuNTVoLTU4Ljcycy0xMy42NiwxMy42Ni0xMy42NiwxMy42Nmg2NC4wN3MxLjI1LDAsMS4yNSwwYzIuNjgtNC4zMyw1LjA1LTguOTEsNy4wNi0xMy42NloiLz4KICAgIDwvZz4KICAgIDxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTExMy4zNSwxMDUuMTRsLTIuMDQtMS45M2MtMy4wNy0yLjkxLTYuNzUtNC45MS0xMC42NS01Ljk1LTIuMS0uNTctNC4yNy0uODUtNi40NC0uODUtNC4wOSwwLTguMjEsMS4wMS0xMS45NywzLjA4LTQuODMsMi42NS0xMC41MiwzLjk3LTE3LjA3LDMuOTctNS40LDAtMTAuNDMtLjkyLTE1LjA5LTIuNzYtMi45Mi0xLjE2LTUuNjEtMi42My04LjA2LTQuNDItMS40NS0xLjA2LTIuODEtMi4yMy00LjA5LTMuNTEtMi41OS0yLjU5LTQuNzYtNS41NS02LjUxLTguODhoMGMtLjU4LTEuMTEtMS4xMS0yLjI2LTEuNi0zLjQ1LTEuOTYtNC43Ny0yLjkzLTEwLjA5LTIuOTMtMTUuOTVzLjk3LTExLjE4LDIuOTMtMTUuOTVjMS45NS00Ljc3LDQuNjYtOC44OCw4LjExLTEyLjMzLDMuNDQtMy40NSw3LjUtNi4wOSwxMi4xNS03LjkzLDQuNjYtMS44NCw5LjY5LTIuNzYsMTUuMDktMi43NiwzLjExLDAsNS45OS4zMSw4LjY3LjkyLDIuNjcuNjIsNS4xMiwxLjU0LDcuMzcsMi43OCwxLjEuNjEsMi4yMywxLjExLDMuMzgsMS40OSw0Ljg5LDEuNjcsMTAuMTksMS40MiwxNC44NS0uNjIsMi4yNC0uOTcsNC4zMy0yLjM1LDYuMTUtNC4xMmwyLjcxLTIuNjRjLjk2LS45MywxLjQzLTIuMjEsMS4zNy0zLjQ2LS4wNC0xLjA4LS40Ny0yLjE0LTEuMzEtMi45My0xLjc0LTEuNjYtMy41NC0zLjIxLTUuMzgtNC42Mi0zLjctMi44Ni03LjU5LTUuMjQtMTEuNjktNy4xNS01LjY1LTIuNjMtMTIuMDktNC4yNS0xOS4zLTQuODgtMi4yNS0uMTktNC41OC0uMjktNi45OS0uMjktOS4yLDAtMTcuNzYsMS42Ny0yNS43LDUtNy45MywzLjMzLTE0LjgsNy45MS0yMC42LDEzLjcxLTUuODEsNS44MS0xMC4zNywxMi42Mi0xMy43MSwyMC40M0MxLjY3LDQ2Ljk2LDAsNTUuNDEsMCw2NC40OXMxLjY3LDE3LjUzLDUsMjUuMzRjMy4zNCw3LjgyLDcuOSwxNC42MywxMy43MSwyMC40NCw1LjgsNS44LDEyLjY3LDEwLjM4LDIwLjYsMTMuNzEsNy45NCwzLjMzLDE2LjUsNC45OSwyNS43LDQuOTksMTkuOCwwLDM1Ljk1LTcuMTgsNDguNDYtMjEuNTUuNTctLjY2LjUyLTEuNjgtLjEyLTIuMjhaIi8+CiAgPC9nPgo8L3N2Zz4=" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="bg-gray-50 text-gray-800">
    <div class="container mx-auto p-4 md:p-8 max-w-6xl">
      <div class="text-center mb-6 print-section">
        <div class="flex justify-center items-center relative">
          <!-- <h1 class="text-4xl font-bold text-green-700">Compostaí</h1> -->
          <img src="logo_compostai_temp.svg" alt="Logo Temporário Compostaí" srcset="" style="display: block; max-width: 300px; height: auto" />
          <button
            onclick="window.print()"
            class="absolute right-0 top-0 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg transition duration-300 flex items-center gap-2">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round">
              <polyline points="6 9 6 2 18 2 18 9"></polyline>
              <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
              <rect x="6" y="14" width="12" height="8"></rect>
            </svg>
            Imprimir Guia
          </button>
        </div>
        <!-- <p class="text-lg text-gray-600 mt-2">Sua ferramenta para criar o "ouro negro" perfeito para suas plantas.</p> -->
      </div>

      <!-- Abas de Navegação -->
      <div class="mb-6 border-b border-gray-200">
        <nav class="flex space-x-2" aria-label="Tabs">
          <button
            onclick="changeTab('compost-calculator')"
            id="tab-compost-calculator"
            class="tab-button active text-sm font-medium py-3 px-4 rounded-t-lg border-b-2">
            Calculadora de Composto
          </button>
          <button
            onclick="changeTab('database')"
            id="tab-database"
            class="tab-button text-sm font-medium py-3 px-4 rounded-t-lg border-b-2 border-transparent hover:border-gray-300 hover:text-gray-600">
            Glossário de Materiais
          </button>
          <button
            onclick="changeTab('ph-calculator')"
            id="tab-ph-calculator"
            class="tab-button text-sm font-medium py-3 px-4 rounded-t-lg border-b-2 border-transparent hover:border-gray-300 hover:text-gray-600">
            Calculadora de pH
          </button>

          <button
            onclick="changeTab('maintenance-calculator')"
            id="tab-maintenance-calculator"
            class="tab-button text-sm font-medium py-3 px-4 rounded-t-lg border-b-2 border-transparent hover:border-gray-300 hover:text-gray-600">
            Manutenção de Máquinas
          </button>
        </nav>
      </div>

      <main>
        <div id="content-compost-calculator">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Coluna da Esquerda: Inputs -->
            <div class="bg-white p-6 rounded-2xl shadow-md">
              <div class="mb-8">
                <div class="flex justify-between items-center border-b pb-2 mb-4">
                  <h2 class="text-2xl font-semibold text-gray-700">Passo 1: Insira seus Materiais</h2>
                  <div class="flex border border-gray-300 rounded-lg">
                    <button
                      id="unit-parts"
                      onclick="changeUnit('parts')"
                      class="unit-button text-sm font-bold py-1 px-3 rounded-l-md bg-gray-100 hover:bg-gray-200">
                      Partes
                    </button>
                    <button id="unit-kg" onclick="changeUnit('kg')" class="unit-button active text-sm font-bold py-1 px-3 rounded-r-md">Kilos</button>
                  </div>
                </div>
                <div id="materials-container">
                  <!-- Linhas de material geradas por JS -->
                </div>
                <div class="flex gap-2 mt-4">
                  <button
                    onclick="addMaterialRow()"
                    class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300">
                    + Adicionar Material
                  </button>
                  <button
                    onclick="generateRecipe()"
                    class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300">
                    ✨ Receita Automática
                  </button>
                </div>
              </div>

              <div class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-700 border-b pb-2 mb-4">Passo 2: Fatores de Manejo</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div>
                    <label for="aeration" class="block text-sm font-medium text-gray-700 mb-1">Aeração</label>
                    <select id="aeration" onchange="calculateAll()" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
                      <option value="high">Alta (Bem Picado)</option>
                      <option value="medium" selected>Média (Pedaços)</option>
                      <option value="low">Baixa (Inteiro)</option>
                    </select>
                  </div>
                  <div>
                    <label for="turning" class="block text-sm font-medium text-gray-700 mb-1">Reviramento</label>
                    <select id="turning" onchange="calculateAll()" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
                      <option value="weekly">Semanal</option>
                      <option value="biweekly" selected>Quinzenal</option>
                      <option value="rare">Raramente</option>
                    </select>
                  </div>
                  <div>
                    <label for="moisture" class="block text-sm font-medium text-gray-700 mb-1">Umidade</label>
                    <select id="moisture" onchange="calculateAll()" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
                      <option value="yes">Ideal (Esponja Torcida)</option>
                      <option value="no" selected>Inconstante</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="print-section">
                <h2 class="text-2xl font-semibold text-gray-700 border-b pb-2 mb-4">Informações do Compostaí</h2>
                <div id="selected-materials-summary" class="p-4 bg-gray-100 rounded-lg min-h-[120px] max-h-80 overflow-y-auto text-gray-700">
                  <p class="italic text-gray-500">As informações dos materiais que você escolher aparecerão aqui...</p>
                </div>
              </div>
            </div>

            <!-- Coluna da Direita: Resultados e Guia -->
            <div class="bg-green-600 text-white p-6 rounded-2xl shadow-lg print-section">
              <h2 class="text-2xl font-semibold border-b border-green-400 pb-2 mb-4">Passo 3: Análise e Guia</h2>
              <div class="space-y-4">
                <div class="grid grid-cols-3 gap-2 text-center">
                  <div>
                    <h3 class="text-lg font-medium text-green-200">Relação C:N</h3>
                    <p id="cn-ratio-result" class="text-3xl font-bold">--:1</p>
                  </div>
                  <div>
                    <h3 class="text-lg font-medium text-green-200">pH Estimado</h3>
                    <p id="ph-result" class="text-3xl font-bold">~7.0</p>
                  </div>
                  <div>
                    <h3 class="text-lg font-medium text-green-200">Tempo Estimado</h3>
                    <p class="text-3xl font-bold"><span id="time-result">--</span> dias</p>
                  </div>
                </div>

                <!-- Termômetros -->
                <div class="space-y-3">
                  <div class="px-2">
                    <div class="relative h-3 w-full cn-thermometer-bar rounded-full">
                      <div
                        id="cn-pointer"
                        class="absolute -top-1 w-5 h-5 bg-white border-2 border-gray-500 rounded-full thermometer-pointer"
                        style="left: 50%"></div>
                    </div>
                    <div class="flex justify-between text-xs font-bold text-green-200 mt-1">
                      <span>Úmido</span>
                      <span>Ideal</span>
                      <span>Lento</span>
                    </div>
                  </div>
                  <div class="px-2">
                    <div class="relative h-3 w-full ph-thermometer-bar rounded-full">
                      <div
                        id="ph-pointer"
                        class="absolute -top-1 w-5 h-5 bg-white border-2 border-gray-500 rounded-full thermometer-pointer"
                        style="left: 50%"></div>
                    </div>
                    <div class="flex justify-between text-xs font-bold text-green-200 mt-1">
                      <span>Ácido</span>
                      <span>Ideal</span>
                      <span>Alcalino</span>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 class="text-lg font-medium text-green-200 text-center">Índice de Eficiência</h3>
                  <div class="w-full bg-green-800 rounded-full h-4 mt-1">
                    <div id="efficiency-bar" class="bg-yellow-300 h-4 rounded-full progress-bar-fill" style="width: 0%"></div>
                  </div>
                  <p id="efficiency-text" class="text-center text-sm mt-1 font-bold">0%</p>
                </div>
                <div>
                  <h3 class="text-lg font-medium text-green-200 text-center">Diagnóstico da Mistura</h3>
                  <div id="diagnosis-result" class="text-lg font-semibold text-center h-12">Adicione materiais para começar.</div>
                </div>

                <div class="bg-green-700 p-4 rounded-lg">
                  <h3 class="text-xl font-bold text-center mb-3">Seu Guia de Montagem Personalizado</h3>
                  <div id="assembly-guide" class="space-y-2 text-green-100">
                    <p class="text-center">Preencha os materiais para gerar seu guia.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-4 text-left max-w-3xl mx-auto space-y-2 print-section">
            <details class="bg-gray-100 p-3 rounded-lg">
              <summary class="font-semibold text-gray-700">O que são Materiais Verdes, Marrons e Neutros?</summary>
              <div class="mt-2 text-sm text-gray-600 space-y-2">
                <p>
                  <strong>- Materiais Verdes (Ricos em Nitrogênio):</strong> Pense neles como os "ativadores" da sua composteira. São geralmente úmidos e
                  frescos, como restos de frutas, verduras e borra de café. Eles fornecem a proteína que os microrganismos precisam para se multiplicar e
                  aquecer a pilha.
                </p>
                <p>
                  <strong>- Materiais Marrons (Ricos em Carbono):</strong> São a "estrutura" e a fonte de energia. Geralmente secos e fibrosos, como folhas
                  secas, serragem e papelão. Eles garantem a aeração, evitam o mau cheiro e fornecem o "combustível" de longo prazo para os microrganismos.
                </p>
                <p>
                  <strong>- Materiais Neutros (Funções Específicas):</strong> São os "corretivos" ou "melhoradores". Não entram na conta principal de Carbono e
                  Nitrogênio, mas têm papéis importantes: a casca de ovo adiciona cálcio, a terra de jardim inocula microrganismos e o pó de rocha adiciona
                  minerais.
                </p>
              </div>
            </details>
            <details class="bg-gray-100 p-3 rounded-lg">
              <summary class="font-semibold text-gray-700">O que é a Relação Carbono/Nitrogênio (C:N)?</summary>
              <div class="mt-2 text-sm text-gray-600">
                <p>
                  Imagine que os microrganismos da sua composteira precisam de uma dieta balanceada. O <strong>Carbono (C)</strong>, dos materiais "marrons"
                  (folhas secas, papelão), é a fonte de energia. O <strong>Nitrogênio (N)</strong>, dos materiais "verdes" (restos de cozinha, grama), é a
                  proteína para eles crescerem.
                </p>
                <p class="mt-1">A relação C:N ideal (entre 25:1 e 30:1) garante uma decomposição rápida, quente e sem mau cheiro.</p>
              </div>
            </details>
            <details class="bg-red-100 p-3 rounded-lg">
              <summary class="font-semibold text-red-800">Cuidados Essenciais: O que EVITAR na Compostagem</summary>
              <div class="mt-2 text-sm text-red-700 space-y-2">
                <p>
                  <strong>- Restos de Origem Animal:</strong> Carnes, ossos, peixes e laticínios. Eles apodrecem, geram odores muito fortes, atraem pragas
                  (ratos, moscas) e podem conter patógenos perigosos.
                </p>
                <p>
                  <strong>- Gorduras e Óleos:</strong> Óleo de cozinha, azeite, manteiga e qualquer tipo de gordura. Eles impermeabilizam os materiais,
                  bloqueando a passagem de ar e água, o que causa um ambiente anaeróbico (sem oxigênio) e mau cheiro.
                </p>
                <p>
                  <strong>- Fezes de Animais Domésticos:</strong> Cocô de cães e gatos. Podem conter parasitas e vermes que são prejudiciais à saúde humana e
                  que podem não ser eliminados durante a compostagem caseira.
                </p>
                <p>
                  <strong>- Plantas Problemáticas:</strong> Plantas doentes, com pragas ou tratadas com agrotóxicos. Você corre o risco de espalhar as doenças e
                  os produtos químicos para o seu composto e, consequentemente, para a sua horta.
                </p>
                <p>
                  <strong>- Contaminantes Artificiais:</strong> Plásticos, metais, vidro, madeira tratada (com verniz ou tinta), fraldas, tecidos sintéticos e
                  produtos químicos de limpeza. Eles não se decompõem e liberam substâncias tóxicas que matam os microrganismos da sua composteira.
                </p>
              </div>
            </details>
          </div>
        </div>

        <div id="content-ph-calculator" class="hidden">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Calculadora de Correção de pH -->
            <div class="bg-white p-6 rounded-2xl shadow-md">
              <h2 class="text-2xl font-semibold text-gray-700 border-b pb-2 mb-4">Calculadora de Correção de pH do Solo</h2>
              <div class="space-y-4">
                <div>
                  <label for="current-ph" class="block text-sm font-medium text-gray-700">pH atual do solo</label>
                  <input type="number" id="current-ph" step="0.1" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" placeholder="Ex: 5.5" />
                </div>
                <div>
                  <label for="desired-ph" class="block text-sm font-medium text-gray-700">pH desejado</label>
                  <input type="number" id="desired-ph" step="0.1" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" placeholder="Ex: 6.5" />
                </div>
                <button onclick="calculatePhCorrection()" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg">
                  Calcular Correção
                </button>
                <div>
                  <h3 class="text-lg font-semibold text-gray-700 mt-2">O que fazer:</h3>
                  <div id="ph-correction-result" class="p-4 bg-gray-100 rounded-lg min-h-[100px] text-gray-700">
                    <p class="italic text-gray-500">Insira os valores para ver a recomendação.</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- Calculadora de Mistura -->
            <div class="bg-white p-6 rounded-2xl shadow-md">
              <h2 class="text-2xl font-semibold text-gray-700 border-b pb-2 mb-4">Calculadora de Mistura (Solo + Composto)</h2>
              <div class="space-y-4">
                <div>
                  <label for="soil-ph" class="block text-sm font-medium text-gray-700">pH atual do solo</label>
                  <input type="number" id="soil-ph" step="0.1" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" placeholder="Ex: 5.5" />
                </div>
                <div>
                  <label for="compost-ph" class="block text-sm font-medium text-gray-700">pH da sua compostagem</label>
                  <input
                    type="number"
                    id="compost-ph"
                    step="0.1"
                    class="mt-1 block w-full p-2 border border-gray-300 rounded-lg"
                    placeholder="Use o pH estimado da calculadora" />
                </div>
                <button onclick="calculatePhMix()" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg">
                  Calcular pH Final
                </button>
                <div>
                  <h3 class="text-lg font-semibold text-gray-700 mt-2">pH final estimado:</h3>
                  <div id="ph-mix-result" class="p-4 bg-gray-100 rounded-lg min-h-[100px] text-gray-700 flex items-center justify-center">
                    <p class="text-3xl font-bold text-gray-500">--</p>
                  </div>
                  <p class="text-xs text-gray-500 italic mt-2">
                    *Esta é uma estimativa simplificada, considerando uma aplicação padrão de composto (1 parte de composto para 3 partes de solo).
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div id="content-database" class="hidden">
          <div class="bg-white p-6 rounded-2xl shadow-md">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-2xl font-semibold text-gray-700">Glossário e Editor de Materiais</h2>
              <div class="flex gap-2">
                <input type="file" id="xlsx-upload" class="hidden" accept=".xlsx, .xls" onchange="handleFileUpload(event)" />
                <button
                  onclick="document.getElementById('xlsx-upload').click()"
                  class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300 flex items-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="17 8 12 3 7 8"></polyline>
                    <line x1="12" y1="3" x2="12" y2="15"></line>
                  </svg>
                  Carregar Planilha (XLSX)
                </button>
                <button
                  onclick="downloadXLSX()"
                  class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300 flex items-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7 10 12 15 17 10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                  </svg>
                  Baixar Planilha (XLSX)
                </button>
              </div>
            </div>
            <div id="upload-status" class="text-center mb-4"></div>

            <!-- Formulário de Adição/Edição -->
            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 mb-6">
              <h3 id="form-title" class="text-xl font-semibold text-gray-700 mb-3">Adicionar Material Personalizado</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div>
                  <label for="new-mat-name" class="block text-sm font-medium text-gray-700">Nome do Material</label>
                  <input type="text" id="new-mat-name" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" />
                </div>
                <div>
                  <label for="new-mat-type" class="block text-sm font-medium text-gray-700">Tipo</label>
                  <select id="new-mat-type" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg">
                    <option>Verde</option>
                    <option>Marrom</option>
                    <option>Neutro</option>
                  </select>
                </div>
                <div>
                  <label for="new-mat-cn" class="block text-sm font-medium text-gray-700">Relação C:N (x:1)</label>
                  <input type="number" id="new-mat-cn" min="0" max="500" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" />
                </div>
                <div class="lg:col-span-3 grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div>
                    <label for="new-mat-ph" class="block text-sm font-medium text-gray-700">Potencial de pH</label>
                    <input type="range" id="new-mat-ph" min="-3" max="3" step="0.1" value="0" class="w-full mt-2" oninput="updatePhLabel(this.value)" />
                    <div id="new-mat-ph-label" class="text-center text-sm text-gray-600 mt-1">Neutro (0.0)</div>
                  </div>
                  <div>
                    <label for="new-mat-moisture" class="block text-sm font-medium text-gray-700">Umidade</label>
                    <input
                      type="range"
                      id="new-mat-moisture"
                      min="0"
                      max="100"
                      step="1"
                      value="50"
                      class="w-full mt-2"
                      oninput="updateMoistureLabel(this.value)" />
                    <div id="new-mat-moisture-label" class="text-center text-sm text-gray-600 mt-1">Úmido (50%)</div>
                  </div>
                </div>
                <div>
                  <label for="new-mat-decomp" class="block text-sm font-medium text-gray-700">Tempo de Decomposição</label>
                  <select id="new-mat-decomp" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg">
                    <option>Rápido</option>
                    <option>Médio</option>
                    <option>Lento</option>
                  </select>
                </div>
                <div class="md:col-span-2">
                  <label for="new-mat-info" class="block text-sm font-medium text-gray-700">Descrição</label>
                  <input type="text" id="new-mat-info" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" />
                </div>
              </div>
              <div id="form-buttons" class="flex gap-2 mt-4">
                <button
                  onclick="addCustomMaterial()"
                  id="add-edit-button"
                  class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg">
                  Adicionar à Base de Dados
                </button>
              </div>
            </div>

            <div class="overflow-x-auto">
              <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                  <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Material</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tipo</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Relação C:N</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Potencial de pH</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Umidade</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                  </tr>
                </thead>
                <tbody id="database-table-body" class="bg-white divide-y divide-gray-200">
                  <!-- Conteúdo gerado por JS -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!--Start Manutenção-->
        <div id="content-maintenance-calculator" class="hidden">
          <div class="bg-white p-6 rounded-2xl shadow-md">
            <h2 class="text-2xl font-semibold text-gray-700 border-b pb-2 mb-4">Calculadora de Manutenção de Máquinas</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
              <!-- Inputs da Máquina -->
              <div class="space-y-4">
                <div>
                  <label for="machine-type" class="block text-sm font-medium text-gray-700">Tipo de Máquina</label>
                  <select id="machine-type" onchange="toggleMachineFields()" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg">
                    <option value="Trator">Trator</option>
                    <option value="Colheitadeira">Colheitadeira</option>
                    <option value="Pulverizador Autopropelido">Pulverizador (Autopropelido)</option>
                    <option value="Pulverizador Arrasto">Pulverizador (Arrasto)</option>
                    <option value="Plantadeira">Plantadeira</option>
                  </select>
                </div>
                <div>
                  <label for="machine-model" class="block text-sm font-medium text-gray-700">Modelo</label>
                  <input type="text" id="machine-model" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" placeholder="Ex: John Deere 8R" />
                </div>
                <div>
                  <label for="machine-year" class="block text-sm font-medium text-gray-700">Ano de Fabricação</label>
                  <input type="number" id="machine-year" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" placeholder="Ex: 2010" />
                </div>
                <div id="total-hours-field">
                  <label for="machine-total-hours" class="block text-sm font-medium text-gray-700">Horas de Uso Totais (aprox.)</label>
                  <input type="number" id="machine-total-hours" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" placeholder="Ex: 8500" />
                </div>
                <div id="daily-usage-field">
                  <label for="machine-daily-usage" class="block text-sm font-medium text-gray-700">Horas de Uso Diárias (aprox.)</label>
                  <input type="number" id="machine-daily-usage" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" placeholder="Ex: 8" />
                </div>
                <div id="hours-field">
                  <label for="machine-hours-since-change" class="block text-sm font-medium text-gray-700">Horas de Uso (desde a última troca)</label>
                  <input type="number" id="machine-hours-since-change" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" placeholder="Ex: 150" />
                </div>
                <div>
                  <label for="last-maintenance-date" class="block text-sm font-medium text-gray-700">Data da Última Manutenção/Troca</label>
                  <input type="date" id="last-maintenance-date" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" />
                </div>
                <div id="season-field" class="hidden">
                  <label class="flex items-center">
                    <input type="checkbox" id="new-season" class="h-4 w-4 text-green-600 border-gray-300 rounded" />
                    <span class="ml-2 text-sm text-gray-700">Iniciando nova safra?</span>
                  </label>
                </div>
                <div>
                  <label for="oil-type" class="block text-sm font-medium text-gray-700">Tipo de Óleo</label>
                  <input type="text" id="oil-type" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" placeholder="Ex: 15W-40 Mineral" />
                </div>
                <div id="fuel-field">
                  <label for="fuel-type" class="block text-sm font-medium text-gray-700">Combustível</label>
                  <input type="text" id="fuel-type" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg" placeholder="Ex: Diesel S10" />
                </div>
                <button onclick="calculateMaintenance()" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg">
                  Calcular Manutenção
                </button>
              </div>
              <!-- Resultados e Etiqueta -->
              <div class="bg-gray-50 p-4 rounded-lg border">
                <h3 class="text-xl font-semibold text-gray-700 mb-3 text-center">Plano de Manutenção</h3>
                <div id="maintenance-results" class="space-y-3">
                  <p class="italic text-center text-gray-500">Insira os dados da máquina para ver o plano.</p>
                </div>
                <button
                  id="print-label-btn"
                  onclick="printMaintenanceLabel()"
                  class="w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hidden">
                  Imprimir Etiqueta
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- End Manutenção -->
      </main>
    </div>
  </body>
</html>
